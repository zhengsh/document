# 系统可靠性分析

## 可靠性相关基本概念

* 很多时候系统的可靠性等同于可用性
  * 系统可靠性，是系统在规定的时间内以及规定的环境条件下，完成规定功能的能力，也就是系统的无故障运行的概率。
  * 系统可用性，是指在某个给定时间点上系统能够按照需求执行的概率。

* 系统可靠性和硬件可靠性的区别
  * 复杂性：软件复杂性比硬件高，大部分失效来自软件失效
  * 物理退化：硬件失效主要是物理退化所致，软件不存在物理退化
  * 唯一性：软件是惟一的，每个COPY版本都一样，二两个硬件不可能完全一样
  * 版本更新周期：硬件较慢，软件较快。 

### 可靠性分析-可靠性指标

* 平均无故障时间    -> (MTTF) MTTF=1\r ， r 为失效率
* 平均故障修复时间  -> (MTTR) MTTR=1/u, u 为修复率
* 平均故障间隔时间  -> (MTBF) MTBF= MTTR + MTTF
* 系统可用性 -> MTTF / (MTTR + MTTF) * 100%


在实际应用中，一般MTTR 很小，所以通常任务 MTBF = MTTF



### 系统可靠性分析 - 串联系统与并联系统

* 容错技术
  * 冗余
    * 结构冗余 （硬件冗余）
    * 信息冗余（校验码）
    * 时间冗余 （重复多次进行相同的计算）
  
  * N版本程序设计（静态冗余）
  * 恢复块设计（动态冗余）
  * 防伪式程序设计
      
* 检错技术
  * 出错报警，人工处理，成本较低
      
* 降低复杂度设计
   
### 可靠性设计 - N 版本程序设计

* 多条线都去做（实时性）
* 多个环境表决

### 可靠性设计 - 恢复快方法

### 可靠性设计 - 双机容错 （集群技术）

* 双机热备 （主系统，备用系统）
* 双机互备 （同时提供不同的服务，心不跳则接管）
* 双机双工模式（同时提供相同的服务，集群的一种）


### 可靠性设计 - 集群设计

高性能主机（垂直拓展）和集群系统（水平拓展）的区别

* 可伸缩性
* 高可用性
* 可管理性
* 性价比
* 高透明性